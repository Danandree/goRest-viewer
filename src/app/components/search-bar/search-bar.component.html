<mat-card>
    <form class="search" [formGroup]="controlField">
        <div class="first-row">
            <h2>Cerca {{translationOfObj(typeofObjToSearch)}} per: </h2>
            <mat-form-field class="type">
                <mat-label>Campo</mat-label>
                <mat-select [(value)]="fieldSelected" (valueChange)="resetResult()" formControlName="field">
                    @for(obj of optFields ;track $index){
                    <mat-option [value]="obj">{{(translationOfObj(obj))}}</mat-option>
                    }
                </mat-select>
            </mat-form-field>
        </div>
        <mat-form-field class="request">
            <mat-label>Cerca:</mat-label>
            <input matInput (input)="searchQuery($event.target)" formControlName="search">
            @if (controlField.get('search')?.value) {
            <button matSuffix mat-icon-button aria-label="Clear" (click)="resetResult()">
                <mat-icon>close</mat-icon>
            </button>
            }
        </mat-form-field>
    </form>
</mat-card>
@if(resultList.length>0){
<mat-card class="title-results">
    <h2>{{translationOfObj(typeofObjToSearch)}} trovato: {{resultList.length}}</h2>
</mat-card>
<div class="results">
    @if(typeofObjToSearch == 'users'){
    @for(user of resultList ;track $index){
    <app-user-card-minimal [user]="user" (deleteUserEvent)="deleteUser($event)"></app-user-card-minimal>
    }
    }
    @if(typeofObjToSearch == 'posts'){
    @for(post of resultList ;track $index){
    <app-post-card [post]="post"></app-post-card>
    }
    }
</div>
<div class="load-more-button">
    <button mat-raised-button color="primary" (click)="loadMore()">
        <mat-icon>add</mat-icon>Carica altri risultati
    </button>
</div>
}